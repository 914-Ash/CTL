{% extends user.is_authenticated|yesno:'dashboard/base/base.html,home/base/base.html' %}

{% block title %}
    {% if user.is_authenticated %}
        {{ user.author.author.username }} | Dashboard
    {% else %}
        Your Home Page Title
    {% endif %}
{% endblock %}

{% block contents %}
    {% if not user.is_authenticated %}
        <div class="container">
            <div class="row justify-content-end mt-3">
                <h2>CHANGE THE LIFESTYLE </h2>
                <div class="col-auto">
                    <div class="text-center">
                        <a class="small" href="{% url 'login' %}">ログイン</a>
                    </div>
                    <div class="text-center">
                        <a class="small" href="{% url 'create_user' %}">新規登録</a>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
{% endblock %}

{% for post in latest_posts %}
  <div>
    <h3>{{ post.title }}</h3>
    <p>{{ post.detail }}</p>
    <!-- Add other post details as needed -->
  </div>
{% endfor %}

<!-- Display Featured Posts -->
{% for post in featured_posts %}
  <div>
    <h3>{{ post.title }}</h3>
    <p>{{ post.detail }}</p>
    <!-- Add other post details as needed -->
  </div>
{% endfor %}

<!-- Display Paginated Posts -->
{% for post in posts %}
  <div>
    <h3>{{ post.title }}</h3>
    <p>{{ post.detail }}</p>
    <!-- Add other post details as needed -->
  </div>
{% endfor %}

<!-- Add Pagination Controls -->
<div class="pagination">
  <span class="step-links">
    {% if posts.has_previous %}
      <a href="?page=1">&laquo; first</a>
      <a href="?page={{ posts.previous_page_number }}">previous</a>
    {% endif %}
  
    <span class="current">
      Page {{ posts.number }} of {{ posts.paginator.num_pages }}.
    </span>
  
    {% if posts.has_next %}
      <a href="?page={{ posts.next_page_number }}">next</a>
      <a href="?page={{ posts.paginator.num_pages }}">last &raquo;</a>
    {% endif %}
  </span>
</div>
